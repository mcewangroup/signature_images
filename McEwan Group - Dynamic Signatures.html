<div id="signatureTableDivId">
  <table style="width:500px; max-height: 200px; font-family: Arial; padding: 20px; line-height: 1; border: none; background-color: transparent;">
    <tr>
      <!-- First Column, First Row with Image -->
      <td colspan="4" rowspan="5" style="background-color: transparent; text-align: center;">
        <a id="logoLink" href="https://www.mcewangroup.ca" target="_blank">
          <img id="logoImage"
            src="https://raw.githubusercontent.com/mcewangroup/signature_images/main/uploads/logos/McEwanGroupDefault.png"
            alt="Image" width="110px" />
        </a>
      </td>
      <!-- Second Column, First Row -->
      <td style="width: 2%;"></td>
      <td colspan="4" id="name" style="font-size: 20px; font-weight: bold;">Name Comes Here</td>
    </tr>
    <!-- style="font-weight: bold;" -->
    <!-- Second to Fifth Rows -->
    <tr>
      <td style="width: 2%;"></td>
      <td colspan="4" style="font-size: 12px;">
        <div id="title">Title Comes Here</div>
      </td>
    </tr>
    <tr>
      <td style="width: 2%;"></td>
      <td style="width: 4%;"><img
          src="https://raw.githubusercontent.com/mcewangroup/signature_images/main/uploads/maps-and-flags.png"
          alt="Icon" style="height: 18px; width: 14px;" /></td>
      <td colspan="4" style="font-size: 12px; font-weight:bold;">
        <div id="companyName" style="margin-left: -11px;">Company Comes Here</div>
      </td>
    </tr>
    <tr>
      <!-- Third Row, First Column with 20% width -->
      <td style="width: 2%;"></td>
      <td style="width: 4%;"></td>
      <!-- Third Row, Second Column with 80% width -->
      <td colspan="4" style="width: 95%;font-size: 12px; font-weight:normal;">
        <div style="margin-left: -11px; max-width: 65%;" id="address">Address Comes Here</div>
      </td>
    </tr>
    <tr>
      <td style="width: 2%;"></td>
      <td style="width: 4%;"><img
          src="https://raw.githubusercontent.com/mcewangroup/signature_images/main/uploads/telephone-call.png"
          alt="Icon" style="height: 15px; width: 17px;" id="telephoneIcon" /><img
          src="https://raw.githubusercontent.com/mcewangroup/signature_images/main/uploads/mobile-phone.png" alt="Icon"
          style="height: 17px; width: 12px; display: none;" id="mobileIconSec" /></td>
      <td style="width: 4%;">
        <div style="font-weight: normal; font-size: 12px; margin-left: -9px;" id="telephone">00000000000</div>
        <div style="font-weight: normal; font-size: 12px; margin-left: -11px; display: none;" id="mobileSec">00000000000
        </div>
      </td>
      <td style="width: 4%;"><img
          src="https://raw.githubusercontent.com/mcewangroup/signature_images/main/uploads/mobile-phone.png" alt="Icon"
          style="height: 17px; width: 12px;" id="mobileIcon" /></td>
      <td style="width: 4%;">
        <div style="font-weight: normal; font-size: 12px; margin-left: -11px;" id="mobile">00000000000</div>
      </td>
    </tr>
    <!-- Sixth and Seventh Rows -->

    <!-- Sixth and Seventh Rows -->
    <tr>
      <!-- First Column, Rows 5 and 6 -->
      <td style="width: 2%; text-align: center;"><a id="facebookUrl" href="https://www.facebook.com/McEwanGroup/"
          target="_blank"><img
            src="https://raw.githubusercontent.com/mcewangroup/signature_images/main/uploads/facebook.png" alt="Icon"
            style="height: 20px; width: 20px;" /></a></td>
      <td style="width: 2%; text-align: center;"><a id="instagramUrl"
          href="https://www.instagram.com/chefmarkmcewan/?hl=en" target="_blank"><img
            src="https://raw.githubusercontent.com/mcewangroup/signature_images/main/uploads/instagram.png" alt="Icon"
            style="height: 20px; width: 20px;" /></a></td>
      <td style="width: 2%; text-align: center;"><a id="linkedinUrl"
          href="https://www.linkedin.com/company/the-mcewan-group/mycompany/verification/?viewAsMember=true"
          target="_blank"><img
            src="https://raw.githubusercontent.com/mcewangroup/signature_images/main/uploads/linkedin.png" alt="Icon"
            style="height: 20px; width: 20px;" /></a></td>
      <td style="width: 2%; text-align: center;"><a id="youtubeUrl"
          href="https://www.youtube.com/channel/UCOYsiugHLo6t1pTEiPebgPQ" target="_blank"><img
            src="https://raw.githubusercontent.com/mcewangroup/signature_images/main/uploads/youtube.png" alt="Icon"
            style="height: 20px; width: 20px;" /></a></td>

      <!-- Second Column, Row 5-->
      <td style="width: 2%;"></td>
      <td style="width: 4%;"><img id="onlineCateringIconId"
          src="https://raw.githubusercontent.com/mcewangroup/signature_images/main/uploads/spoon-and-fork.png"
          alt="Icon" style="height: 17px; width: 13px;" /></td>
      <td style="width: 20%; font-weight:normal;font-size: 12px;"><a id="onlineCateringId" style="margin-left: -11px;"
          href="https://mcewancatering.com/" target="_blank">Online Catering</a></td>
      <td style="width: 4%;"><img id="onlineGroceryIconId"
          src="https://raw.githubusercontent.com/mcewangroup/signature_images/main/uploads/carrot.png" alt="Icon"
          style="height: 15px; width: 15px;" /></td>
      <td style="width: 20%; font-weight:normal;font-size: 12px;"><a id="onlineGroceryId" style="margin-left: -11px;"
          href="https://www.mcewanfoods.com/" target="_blank">Online Grocery</a></td>
    </tr>
    <tr>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <td colspan="9">
        <!--<a href="">-->
        <img id="bannerId"
          src="https://raw.githubusercontent.com/mcewangroup/signature_images/main/uploads/banners/BannerMcEwanGroupDefault.gif"
          alt="Image" width="100%" />
        <!--</a>-->
      </td>
    </tr>
  </table>
</div>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

<br>

<br>
<button id="copyButton" disabled class="btn btn-success">Copy Signature to Clipboard</button>
<hr>
<h3>Update Signature Details</h3>
<br>
<table>
  <tr>
    <td><label for="companyNameSelect">
      <h4>Company :</h4>
    </label></td>
    <td><select id="companyNameSelect" class="form-control">
      <option selected disabled value="0">Select Company</option>
    </select></td>
  </tr>
</table>


<br>
<br>
<!-- Form to Update Signature -->

<form id="updateForm">
  <table>
    <tr>
      <td><label for="nameInput" class="form-label">Name:</label></td>
      <td style="width: 300px;;"><input type="text" id="nameInput" class="form-control" placeholder="Name Comes Here"
          value="Thimira Jayasekara"></td>
      <td></td>
    </tr>
    <tr>
      <td><label for="titleInput" class="form-label">Title:</label></td>
      <td><input type="text" id="titleInput" class="form-control" placeholder="Title Comes Here" value="Software Engineer"></td>
      <td></td>
      <td></td>
      <td>
        <div class="form-check">
          <input type="checkbox" id="titleCheckbox" class="form-check-input" checked value="1">
          <label for="titleCheckbox" class="form-check-label">Show Title</label>
        </div>
      </td>
    </tr>
    <tr>
      <td><label for="companyNameInput" class="form-label">Company Name:</label></td>
      <td><input type="text" id="companyNameInput" class="form-control" placeholder="Company Comes Here" value=""
          readonly></td>
      <td></td>    <tr>
      <td><label for="addressInput" class="form-label">Address:</label></td>
      <td><textarea rows="4" id="addressInput" class="form-control" placeholder="Address Comes Here"
          readonly></textarea></td>
      <td></td>
    </tr>
    <tr>
      <td><label for="telephoneInput" class="form-label">Telephone:</label></td>
      <td><input type="text" id="telephoneInput" class="form-control" placeholder="Telephone Comes Here" readonly
          value=""></td>
      <td style="width: 30px;"><label for="extInput" class="form-label">Ext:</label></td>
      <td style="max-width: 70px;"><input type="text" id="extInput" class="form-control" placeholder="Ext" value="">
      </td>
      <td>
        <div class="form-check">
          <input type="checkbox" id="telephoneCheckbox" class="form-check-input" checked value="1">
          <label for="telephoneCheckbox" class="form-check-label">Show Telephone</label>
        </div>
      </td>
    </tr>
    <tr>
      <td><label for="mobileInput" class="form-label">Mobile:</label></td>
      <td><input type="text" id="mobileInput" class="form-control" placeholder="Leave Blank to Hide the Number"
          value="(647) 550-5762"></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td><button type="button" id="updateButton" class="btn btn-primary">Update</button></td>
    </tr>
  </table>

</form>

<!-- jQuery -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script>
  $(document).ready(function () {
    // JSON array with company IDs, names, and addresses
    var companies = [
      {
        "id": 1,
        "displayName": "McEwan Group",
        "name": "McEwan Group", "address": "38 Karl Fraser Road, Toronto, Ontario | Canada | M3C0H7",
        "telephone": "(416) 444-6262",
        "logo": "https://raw.githubusercontent.com/mcewangroup/signature_images/main/uploads/logos/McEwanGroup.png",
        "logoLinkAddress": "https://mcewangroup.ca",
        "facebookAddress": "https://www.facebook.com/McEwanGroup",
        "instagramAddress": "https://www.instagram.com/chefmarkmcewan/?hl=en",
        "linkedInAddress": "https://www.linkedin.com/company/the-mcewan-group/?viewAsMember=true",
        "youTubeAddress": "https://www.youtube.com/@ChefMcEwan",
        "banner": "https://raw.githubusercontent.com/mcewangroup/signature_images/main/uploads/banners/BannerMcEwanGroup.gif",
        "onlineLink": "true"
      },
      {
        "id": 2,
        "displayName": "McEwan Catering",
        "name": "McEwan Catering  |  McEwan Group",
        "address": "38 Karl Fraser Road, Toronto, Ontario | Canada | M3C0H7",
        "telephone": "(416) 444-6262",
        "logo": "https://raw.githubusercontent.com/mcewangroup/signature_images/main/uploads/logos/McEwanCatering.png",
        "logoLinkAddress": "https://mcewancatering.com",
        "facebookAddress": "https://www.facebook.com/McEwanGroup/",
        "instagramAddress": "https://www.instagram.com/themcewangroup/?hl=en",
        "linkedInAddress": "https://www.linkedin.com/company/the-mcewan-group/?viewAsMember=true",
        "youTubeAddress": "https://www.youtube.com/@ChefMcEwan",
        "banner": "https://raw.githubusercontent.com/mcewangroup/signature_images/main/uploads/banners/BannerMcEwanCatering.gif",
        "onlineLink": "true"
      },
      {
        "id": 3,
        "displayName": "McEwan Fine Foods - Don Mills",
        "name": "McEwan Fine Foods | McEwan Group",
        "address": "38 Karl Fraser Road, Toronto, Ontario | Canada | M3C0H7",
        "telephone": "(416) 444-6262"
        , "logo": "https://raw.githubusercontent.com/mcewangroup/signature_images/main/uploads/logos/McEwanFineFoodsDonMills.png",
        "logoLinkAddress": "https://www.mcewanfoods.com",
        "facebookAddress": "https://www.facebook.com/McEwanGroup",
        "instagramAddress": "https://www.instagram.com/mcewanfoods/?hl=en",
        "linkedInAddress": "https://www.linkedin.com/company/the-mcewan-group/?viewAsMember=true",
        "youTubeAddress": "https://www.youtube.com/@ChefMcEwan",
        "banner": "https://raw.githubusercontent.com/mcewangroup/signature_images/main/uploads/banners/BannerMcEwanFineFoodsDonMills.gif",
        "onlineLink": "true"
      },
      {
        "id": 4,
        "displayName": "McEwan Fine Foods - TD Centre",
        "name": "McEwan Fine Foods |  McEwan Group",
        "address": "66 Wellington St W, Toronto, Ontario | Canada | M5K0A1",
        "telephone": "(416) 306-1444",
        "logo": "https://raw.githubusercontent.com/mcewangroup/signature_images/main/uploads/logos/McEwanFineFoodsTDCentre.png",
        "logoLinkAddress": "https://www.mcewanfoods.com",
        "facebookAddress": "https://www.facebook.com/McEwanGroup",
        "instagramAddress": "https://www.instagram.com/mcewanfoods/?hl=en",
        "linkedInAddress": "https://www.linkedin.com/company/the-mcewan-group/?viewAsMember=true",
        "youTubeAddress": "https://www.youtube.com/@ChefMcEwan",
        "banner": "https://raw.githubusercontent.com/mcewangroup/signature_images/main/uploads/banners/BannerMcEwanFineFoodsTDCentre.gif",
        "onlineLink": "true"
      },
      {
        "id": 5,
        "displayName": "McEwan Consulting",
        "name": "McEwan Consulting  |  McEwan Group",
        "address": "38 Karl Fraser Road, Toronto, Ontario | Canada | M3C0H7",
        "telephone": "(416) 444-6262",
        "logo": "https://raw.githubusercontent.com/mcewangroup/signature_images/main/uploads/logos/McEwanConsulting.png",
        "logoLinkAddress": "https://mcewangroup.ca",
        "facebookAddress": "https://www.facebook.com/McEwanGroup",
        "instagramAddress": "https://www.instagram.com/chefmarkmcewan/?hl=en",
        "linkedInAddress": "https://www.linkedin.com/company/the-mcewan-group/?viewAsMember=true",
        "youTubeAddress": "https://www.youtube.com/@ChefMcEwan",
        "banner": "https://raw.githubusercontent.com/mcewangroup/signature_images/main/uploads/banners/BannerMcEwanConsulting.gif",
        "onlineLink": "false"
      },
      {
        "id": 6,
        "displayName": "ByMark Restaurant",
        "name": "ByMark Restaurant  |  McEwan Group",
        "address": "66 Wellington St W, Toronto, Ontario | Canada | M5K1M6",
        "telephone": "(416) 777-1144",
        "logo": "https://raw.githubusercontent.com/mcewangroup/signature_images/main/uploads/logos/Bymark.png",
        "logoLinkAddress": "https://mcewangroup.ca/bymark",
        "facebookAddress": "https://www.facebook.com/McEwanGroup",
        "instagramAddress": "https://www.instagram.com/bymarkrestaurant/?hl=en",
        "linkedInAddress": "https://www.linkedin.com/company/the-mcewan-group/?viewAsMember=true",
        "youTubeAddress": "https://www.youtube.com/@ChefMcEwan",
        "banner": "https://raw.githubusercontent.com/mcewangroup/signature_images/main/uploads/banners/BannerBymarkRestaurant.gif",
        "onlineLink": "false"
      },
      {
        "id": 7,
        "displayName": "The Port Tavern Restaurant",
        "name": "The Port Tavern Restaurant  |  McEwan Group",
        "address": "15 Harbour St, Thornbury, Ontario | Canada | N0H2P0",
        "telephone": "(519) 599-9996",
        "logo": "https://raw.githubusercontent.com/mcewangroup/signature_images/main/uploads/logos/ThePortTavern.png",
        "logoLinkAddress": "https://mcewangroup.ca/the-port-tavern",
        "facebookAddress": "https://www.facebook.com/profile.php?id=61560771118796",
        "instagramAddress": "https://www.instagram.com/theportthornbury/?hl=en",
        "linkedInAddress": "https://www.linkedin.com/company/the-mcewan-group/?viewAsMember=true",
        "youTubeAddress": "https://www.youtube.com/@ChefMcEwan",
        "banner": "https://raw.githubusercontent.com/mcewangroup/signature_images/main/uploads/banners/BannerMcEwanThePortTavernRestaurant.gif",
        "onlineLink": "false"
      },
      {
        "id": 8,
        "displayName": "Diwan Restaurant",
        "name": "Diwan Restaurant  |  McEwan Group",
        "address": "Aga Khan Museum, 77 Wynford Dr, North York, Ontario | Canada | M3C1K1",
        "telephone": "(416) 646-4670",
        "logo": "https://raw.githubusercontent.com/mcewangroup/signature_images/main/uploads/logos/Diwan.png",
        "logoLinkAddress": "https://mcewangroup.ca/diwan",
        "facebookAddress": "https://www.facebook.com/profile.php?id=100091498983951",
        "instagramAddress": "https://www.instagram.com/diwanrestaurantto/?hl=en",
        "linkedInAddress": "https://www.linkedin.com/company/the-mcewan-group/?viewAsMember=true",
        "youTubeAddress": "https://www.youtube.com/@ChefMcEwan",
        "banner": "https://raw.githubusercontent.com/mcewangroup/signature_images/main/uploads/banners/BannerMcEwanDiwanRestaurant.gif",
        "onlineLink": "false"
      },
      {
        "id": 9,
        "displayName": "Fabbrica Restaurant - TD Centre",
        "name": "Fabbrica Restaurant |  McEwan Group",
        "address": "66 Wellington St W, Toronto, Ontario | Canada | M5J2W4",
        "telephone": "(416) 214-0320",
        "logo": "https://raw.githubusercontent.com/mcewangroup/signature_images/main/uploads/logos/FabbricaTDCentre.png",
        "logoLinkAddress": "https://mcewangroup.ca/fabbrica-td-centre",
        "facebookAddress": "https://www.facebook.com/McEwanGroup",
        "instagramAddress": "https://www.instagram.com/fabbricarestaurant/?hl=en",
        "linkedInAddress": "https://www.linkedin.com/company/the-mcewan-group/?viewAsMember=true",
        "youTubeAddress": "https://www.youtube.com/@ChefMcEwan",
        "banner": "https://raw.githubusercontent.com/mcewangroup/signature_images/main/uploads/banners/BannerFabbricaTDCentreRestaurant.gif",
        "onlineLink": "false"
      },
      {
        "id": 10,
        "displayName": "Fabbrica Restaurant - Thornbury",
        "name": "Fabbrica Restaurant |  McEwan Group",
        "address": "27 Bruce St S, Thornbury, Ontario | Canada | N0H2P0",
        "telephone": "(519) 599-7769",
        "logo": "https://raw.githubusercontent.com/mcewangroup/signature_images/main/uploads/logos/FabbricaThornbury.png",
        "logoLinkAddress": "https://mcewangroup.ca/fabbrica-thornbury",
        "facebookAddress": "https://www.facebook.com/McEwanGroup",
        "instagramAddress": "https://www.instagram.com/fabbricarestaurant/?hl=en",
        "linkedInAddress": "https://www.linkedin.com/company/the-mcewan-group/?viewAsMember=true",
        "youTubeAddress": "https://www.youtube.com/@ChefMcEwan",
        "banner": "https://raw.githubusercontent.com/mcewangroup/signature_images/main/uploads/banners/BannerFabbricaThornburyRestaurant.gif",
        "onlineLink": "false",
      }
    ];

    // Populate the dropdown with company names
    companies.forEach(function (company) {
      $('#companyNameSelect').append($('<option>', {
        value: company.id,
        text: company.displayName
      }));
    });

    // Update address when a company is selected
    $('#companyNameSelect').change(function () {
      var selectedId = $(this).val();
      var company = companies.find(c => c.id == selectedId);
      if (company) {
        $('#logoImage').attr('src', company.logo);
        $('#logoLink').attr('href', company.logoLinkAddress);
        $('#facebookUrl').attr('href', company.facebookAddress);
        $('#instagramUrl').attr('href', company.instagramAddress);
        $('#linkedinUrl').attr('href', company.linkedInAddress);
        $('#youtubeUrl').attr('href', company.youTubeAddress);
        $('#bannerId').attr('src', company.banner);
        $('#companyNameInput').val(company.name);
        $('#addressInput').val(company.address);
        $('#telephoneInput').val(company.telephone);

        if (company.onlineLink == 'true') {
          $('#onlineCateringIconId').show();
          $('#onlineCateringId').show();
          $('#onlineGroceryIconId').show();
          $('#onlineGroceryId').show();
        } else {
          $('#onlineCateringIconId').hide();
          $('#onlineCateringId').hide();
          $('#onlineGroceryIconId').hide();
          $('#onlineGroceryId').hide();
        }
      } else {
        $('#companyNameInput').val('');
        $('#addressInput').val('');
        $('#telephoneInput').val('');
      }
    });

    $('#updateButton').click(function () {
      // Update the signature details with the form inputs
      var updateEnable = true;
      if ($('#companyNameSelect').val() == 0) {
        updateEnable = false;
        alert("Company not selected!");
      } else if ($('#nameInput').val() == "") {
        updateEnable = false;
        alert("Name can't be empty!");
      } else if ($('#titleCheckbox').is(':checked') && $('#titleInput').val() == "") {
        updateEnable = false;
        alert("Title can't be empty!");
      }
      if (updateEnable) {
        $('#name').text($('#nameInput').val());
        if ($('#titleCheckbox').is(':checked')) {
          $('#title').text($('#titleInput').val());
        } else {
          $('#title').text('');
        }
        $('#companyName').text($('#companyNameInput').val());
        $('#address').text($('#addressInput').val());


        if ($('#telephoneCheckbox').is(':checked')) {

          var telephoneValue = $('#telephoneInput').val();
          if ($('#extInput').val() != "") {
            telephoneValue += " Ext:" + $('#extInput').val();
          }
          $('#telephoneIcon').show();
          $('#telephone').text(telephoneValue);
        } else {
          $('#telephoneIcon').hide();
          $('#telephone').text('');
        }







        if ($('#mobileInput').val() == "") {
          $('#mobileIcon').hide();
          $('#mobile').hide();
          $('#mobileIconSec').hide();
          $('#mobileSec').text("");
        } else {
          if ($('#telephoneCheckbox').is(':checked')) {
            $('#mobileIcon').show();
            $('#mobile').show();
            $('#mobileIconSec').hide();
            $('#mobileSec').hide();
            $('#mobile').text($('#mobileInput').val());
          } else {
            $('#mobileIcon').hide();
            $('#mobile').hide();
            $('#mobileIconSec').show();
            if ($('#mobileInput').val() != "") {
              $('#mobileSec').show();
              $('#mobileSec').text($('#mobileInput').val());
            }
          }

        }
        $('#copyButton').prop('disabled', false);
      }else{
        $('#copyButton').prop('disabled', true);
      }

    });

    $('#copyButton').click(function () {
      // Select the signature table
      var table = document.getElementById('signatureTableDivId');
      var range = document.createRange();
      range.selectNode(table);
      window.getSelection().removeAllRanges(); // Clear current selection
      window.getSelection().addRange(range); // Select the table

      try {
        // Copy the selected content to the clipboard
        document.execCommand('copy');
        alert('Signature copied to clipboard');
      } catch (err) {
        alert('Failed to copy signature');
      }

      // Deselect the table
      window.getSelection().removeAllRanges();
    });
  });
</script>